(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{208:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(24),l=a.n(s),o=a(10),c=a(16),i=a(73),u=(a(95),a(96),a(74)),m=a(75),p=a.n(m),d=a(76),h=a(50),f=(a(99),a(12)),E=a(17),b=a.n(E),v=a(210),g=Object(c.c)({form:v.a,user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return[].concat(Object(f.a)(e),[t.payload]);case"SET_USERS":return t.payload=b.a.uniqBy(t.payload,"email"),e=[].concat(Object(f.a)(e),Object(f.a)(t.payload)),e=b.a.uniqBy(e,"email"),Object(f.a)(e);case"DELETE_USER":return console.log(t.payload),e.splice(t.payload,1),Object(f.a)(e);case"EDIT_USER":return e[b.a.findIndex(e,{user_id:t.payload.user.user_id})]=t.payload.user,Object(f.a)(e);case"CLEARSTORE":return e=[];default:return Object(f.a)(e)}},tempSet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TEMP_EXAM_SET":return e=t.payload;default:return e}},examSet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_EXAMSET":return t.payload=b.a.uniqBy(t.payload,"set_id"),e=Object(f.a)(t.payload),e=b.a.uniqBy(e,"set_id"),Object(f.a)(e);case"EDIT_EXAM_SET":var a=b.a.findIndex(e,{set_id:t.payload.set_id});return-1===a?e.push(t.payload):e[a]=t.payload,Object(f.a)(e);default:return Object(f.a)(e)}},examUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_EXAM_USER":return e=t.payload;default:return e}},question:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_QUESTIONS":return t.payload=b.a.uniqBy(t.payload,"question"),e=[].concat(Object(f.a)(e),Object(f.a)(t.payload)),e=b.a.uniqBy(e,"question"),Object(f.a)(e);default:return Object(f.a)(e)}},oneExamSet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ONE_EXAMSET":return t.payload[0].set_id&&(e=t.payload[0]),e;default:return e}},responseArray:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESPONSE_ARRAY":return e=t.payload;default:return e}},examSetForUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_SET_FOR_EXAM":return e=t.payload;default:return e}}}),y=a(2),x=a(3),O=a(5),S=a(4),k=a(6),w=a(18),j=a(25),N=a(1),_=a.n(N),U=a(7),C=function(){return!!localStorage.getItem("token")},A=a(78),T=a.n(A).a.create({baseURL:"http://13.127.50.37:5000/iqtest"}),q={headers:{Authorization:localStorage.getItem("token")}},Q=function(){var e=Object(U.a)(_.a.mark(function e(t,a){var n,r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={email_id:t,password:a},e.next=3,T.post("/login",n,q);case 3:if(!(r=e.sent).data.success){e.next=10;break}return q={headers:{Authorization:r.data.token+""}},localStorage.setItem("token",r.data.token+""),e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),D=function(){var e=Object(U.a)(_.a.mark(function e(){var t;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(q),e.next=3,T.get("/uploadUsers",q);case 3:return t=e.sent,e.abrupt("return",t.data.user_data);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(U.a)(_.a.mark(function e(t){var a;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.post("/delUser",t,q);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(U.a)(_.a.mark(function e(t){var a;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.post("/addUsers",t,q);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(U.a)(_.a.mark(function e(t){var a;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.post("/addUsers",t,q);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(U.a)(_.a.mark(function e(){var t;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.get("/uploadQtn",q);case 2:return t=e.sent,e.abrupt("return",t.data.qtn_bank);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(U.a)(_.a.mark(function e(){var t;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.get("/addSet",q);case 2:return t=e.sent,e.abrupt("return",t.data.exam_set);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(U.a)(_.a.mark(function e(t){var a;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.post("/addSet",t,q);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(U.a)(_.a.mark(function e(t){var a;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.post("/getUserInfo",{token_id:t});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(U.a)(_.a.mark(function e(t,a){var n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.post("/getSet",{token:t,user_id:a});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),G=function(){var e=Object(U.a)(_.a.mark(function e(t){var a;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.post("/result",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(U.a)(_.a.mark(function e(t){var a;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.post("/uploadUsers",t,q);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(U.a)(_.a.mark(function e(t){var a;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.post("/uploadQtn",t,q);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),z=function(){return function(){var e=Object(U.a)(_.a.mark(function e(t){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:[],I().then(function(e){t({type:"GET_QUESTIONS",payload:e})});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},H=function(){return{type:"ONE_EXAMSET",payload:[arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}]}},J=function(){return function(){var e=Object(U.a)(_.a.mark(function e(t){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:[],L().then(function(e){t({type:"GET_EXAMSET",payload:e})});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Y=function(){return{type:"GET_SET_FOR_EXAM",payload:{}}};var K=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(O.a)(this,Object(S.a)(t).call(this,e))).onLogin=function(){Q(a.state.email,a.state.password).then(function(e){e?(a.props.getExamSets(),a.props.setUsers1()):alert("Invalid credentials!")})},a.emailChanged=function(){var e=Object(U.a)(_.a.mark(function e(t){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({email:t.target.value});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.passwordChanged=function(){var e=Object(U.a)(_.a.mark(function e(t){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({password:t.target.value});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={email:"",password:""},a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"componentWillMount",value:function(){C()&&window.location.replace("#/home/user")}},{key:"render",value:function(){return r.a.createElement("div",{className:"col-lg-4 offset-lg-4",style:{marginTop:"100px"}},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",null,"Login")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"login"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email:"),r.a.createElement("input",{className:"form-control",id:"email",type:"email",value:this.state.email,onChange:this.emailChanged})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"pwd"},"Password:"),r.a.createElement("input",{className:"form-control",id:"pwd",type:"password",value:this.state.password,onChange:this.passwordChanged})),r.a.createElement(w.b,{to:"/login",className:"btn btn-primary",onClick:this.onLogin},r.a.createElement("i",{className:"fa fa-sign-in","aria-hidden":"true"}),"Login"))))))}}]),t}(r.a.Component),Z=Object(o.b)(function(e){return{users:e.user,questions:e.question,examSet:e.examSet}},{setUsers1:function(){return function(){var e=Object(U.a)(_.a.mark(function e(t){var a;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=[],D().then(function(e){a=e,console.log(e),t({type:"SET_USERS",payload:a}),window.location.replace("#/home/user")});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},getExamSets:J})(K),$=function(e){function t(){return Object(y.a)(this,t),Object(O.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(x.a)(t,[{key:"componentWillMount",value:function(){localStorage.clear(),window.location.replace("#/login")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Logout"))}}]),t}(r.a.Component),ee=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(O.a)(this,Object(S.a)(t).call(this,e))).logout=function(){a.props.clearStore(),window.location.replace("#/login")},a.state={value:""},a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"goToUser",value:function(){console.log("user"),window.location.replace("#/home/user")}},{key:"goToQuestions",value:function(){window.location.replace("#/home/questions")}},{key:"goToExamSet",value:function(){window.location.replace("#/home/examSet")}},{key:"render",value:function(){return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-lg-2"},r.a.createElement("img",{className:"logo",src:"/images/logo.png",alt:"logo"})),r.a.createElement("div",{className:"col"},r.a.createElement("nav",null,r.a.createElement("ul",{className:"nav float-right"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(w.c,{to:"/home/user",className:"nav-link"},"User")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(w.c,{to:"/home/questions",className:"nav-link"},"Questions")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(w.c,{to:"/home/examSet",className:"nav-link"},"Exam Sets")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(w.c,{to:"/logout",className:"nav-link"},"Logout"))))))))}}]),t}(r.a.Component),te=Object(o.b)(function(e){return{users:e.userReducer}},{clearStore:function(){return{type:"CLEARSTORE"}}})(ee),ae=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(O.a)(this,Object(S.a)(t).call(this,e))).state={redirect:!0},a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"componentWillMount",value:function(){C()?window.location.replace("#/home/user"):window.location.replace("#/login")}},{key:"render",value:function(){return r.a.createElement("div",{"data-test":"home_div"},r.a.createElement(te,null))}}]),t}(r.a.Component),ne=a(85),re=function(e){var t=e.columns;return r.a.createElement("thead",null,r.a.createElement("tr",null,t.map(function(e){return r.a.createElement("th",{key:"".concat(e.label,"+").concat(e.id)},e.label)})))},se=function(e){var t=e.data;return r.a.createElement("tbody",null,t)},le=function(e){var t=e.data,a=e.columns;return r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table "},r.a.createElement(re,{columns:a}),r.a.createElement(se,{data:t})))},oe=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(O.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).columns=[{id:0,label:"#"},{id:1,label:"Name"},{id:2,label:"Email"},{id:3,label:"Phone"},{id:4,label:"Status"},{id:5,label:"Marks"},{id:6,label:"Exam Time"},{id:7,label:"Action"}],a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props.onUserTable;return r.a.createElement(r.a.Fragment,null,r.a.createElement(le,{data:e,columns:this.columns}))}}]),t}(n.Component),ce=function(e){function t(){return Object(y.a)(this,t),Object(O.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("p",null,"\xa9 powered by ",r.a.createElement("strong",null,"QCI")))))}}]),t}(r.a.Component),ie=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(O.a)(this,Object(S.a)(t).call(this,e))).counter=1,a.state={toggle:!0},a.assignExam=Object(U.a)(_.a.mark(function e(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm(" Are you sure to assign "+a.state.user.name+" the "+a.state.examSet.name+" Exam set")){e.next=3;break}return e.next=3,a.props.editUser(a.state.user,a.state.examSet);case 3:case"end":return e.stop()}},e)})),a.deleteUser=function(){var e=Object(U.a)(_.a.mark(function e(t,n){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(n),!window.confirm("Are you sure to delete this user? ")){e.next=4;break}return e.next=4,a.props.deleteUser(n,t-1);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.createNewUser=Object(U.a)(_.a.mark(function e(){var t;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t={}).name=a.state.name,t.email=a.state.email,t.phone=a.state.phone,t.set_id="",t.status="",t.marks=" ",t.timeStamp="",e.next=10,a.props.setUser(t);case 10:return alert("Created!"),e.next=13,a.setState({email:"",name:"",phone:"",status:"",marks:"",timeStamp:""});case 13:case"end":return e.stop()}},e)})),a.nameChanged=function(){var e=Object(U.a)(_.a.mark(function e(t){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({name:t.target.value});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.emailChanged=function(){var e=Object(U.a)(_.a.mark(function e(t){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({email:t.target.value});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.phoneChanged=function(){var e=Object(U.a)(_.a.mark(function e(t){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({phone:t.target.value});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleToggle=function(){var e=!a.state.toggle;a.setState({toggle:e})},a.handlePageChange=function(e){a.setState({currentPage:e})},a.createNewUser1=Object(U.a)(_.a.mark(function e(){var t;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t={}).name=a.state.name,t.email=a.state.email,t.phone=a.state.phone,t.set_id="",t.status="",t.marks=" ",t.timeStamp="",e.next=10,a.props.setUser(t);case 10:return alert("New user created"),e.next=13,a.setState({email:"",name:"",phone:"",status:"",marks:"",timeStamp:""});case 13:case"end":return e.stop()}},e)})),a.uploadUsersViaFile=function(e){var t=(e.target.files||e.srcElement.files)[0];console.log(t),(new FormData).append("file",t);var a=new FileReader;a.readAsDataURL(t),a.onload=function(e){console.log(a.result),V({file:a.result}).then(function(e){console.log(e),alert("Success "+e.success)})}},a.state={email:"",name:"",phone:"",status:"",marks:"",timeStamp:"",user:"",examSet:""},a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){this.props.getExamSets(),this.props.setUsers()}},{key:"renderUser",value:function(){var e=this;this.props.examSet.map(function(e){return e.label=e.set_id+" : "+e.name}),this.props.examSet.map(function(e){return e.value=e.set_id});var t=0;return this.props.users.map(function(a){return t++,r.a.createElement("tr",{key:a.name+a.email+t+""},r.a.createElement("td",null,t),r.a.createElement("td",null,a.name),r.a.createElement("td",null,a.email),r.a.createElement("td",null,a.phone),r.a.createElement("td",null,""===a.status?"":a.status+", Exam :"+a.set_id),r.a.createElement("td",null,parseInt(a.marks)>-1?a.marks+", Exam : "+a.set_id:""),r.a.createElement("td",null,a.timeStamp),r.a.createElement("td",null,r.a.createElement(ne.a,{options:e.props.examSet,onChange:function(t){return e.assignExamDropdown(t,a)}}),r.a.createElement("button",{"data-test":"delete_user_button",onClick:e.assignExam,className:"btn btn-primary btn-sm",style:{margin:"5px 0px 0px 0px"}},"Assign"),r.a.createElement("button",{"data-test":"delete_user_button",onClick:e.deleteUser.bind(e,t,a),className:"btn btn-danger btn-sm float-right",style:{margin:"5px 0px 0px 0px"}},r.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"}),"Delete User")))})}},{key:"assignExamDropdown",value:function(e,t){this.setState({user:t,examSet:e})}},{key:"toggleClasses",value:function(){var e="col-lg-6";return e+=this.state.toggle?"":" toggleActive"}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{"data-test":"user_div",className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("h4",{"data-test":"user_heading",className:"".concat(this.toggleClasses()),onClick:this.handleToggle,style:{cursor:"pointer",marginBottom:20}},"User ",r.a.createElement("span",{id:"triangle-down"})),r.a.createElement("div",{className:"col-lg-6 text-right "},r.a.createElement("span",{className:"upload"},r.a.createElement("i",{className:"fa fa-upload"}),r.a.createElement("input",{type:"file",onChange:this.uploadUsersViaFile,className:"fileUpload"}))),r.a.createElement("div",{"data-test":"add_user",className:"col-lg-6 hide",style:{marginBottom:15}},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",null,"Add an user ")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Name:"),r.a.createElement("input",{className:"form-control",id:"name",type:"text",value:this.state.name,onChange:this.nameChanged,placeholder:"Name"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email:"),r.a.createElement("input",{className:"form-control",id:"email",type:"email",value:this.state.email,onChange:this.emailChanged,placeholder:"Email"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"Phone"},"phone:"),r.a.createElement("input",{className:"form-control",id:"phone",type:"phone",value:this.state.phone,onChange:this.phoneChanged,placeholder:"Phone"})),r.a.createElement("button",{className:"btn btn-primary",onClick:this.createNewUser1},"Create User")))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(oe,{onUserTable:this.renderUser()})))),r.a.createElement(ce,null))}}]),t}(r.a.Component),ue=Object(o.b)(function(e){return{users:e.user,questions:e.question,examSet:e.examSet}},{setUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=Object(U.a)(_.a.mark(function t(a){return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e),M(e).then(function(t){console.log(t),a({type:"SET_USER",payload:e})},function(e){console.log(e)});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},setUsers:function(){return function(){var e=Object(U.a)(_.a.mark(function e(t){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:D().then(function(e){t({type:"SET_USERS",payload:e})});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},deleteUser:function(e,t){return function(){var a=Object(U.a)(_.a.mark(function a(n){return _.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:console.log(t),F({user_id:e.user_id}).then(function(e){console.log(e),n({type:"DELETE_USER",payload:t})},function(e){console.log(e)});case 2:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},getExamSets:J,editUser:function(e,t){return function(){var a=Object(U.a)(_.a.mark(function a(n){return _.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e.set_id=t.set_id,e.status="Assigned",e.marks="",e.timeStamp="",R(e).then(function(t){n({type:"EDIT_USER",payload:{user:e}})},function(e){console.log(e)});case 5:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()}})(ie),me=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(O.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).columns=[{id:0,label:"#"},{id:1,label:"Question"},{id:2,label:"Option1"},{id:3,label:"Option2"},{id:4,label:"Option3"},{id:6,label:"Option4"},{id:7,label:"Option5"},{id:8,label:"Answer/s"},{id:9,label:"Level"},{id:10,label:"Marks"},{id:11,label:"Section"}],a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props.onQuestionOnSetTable;return r.a.createElement(le,{data:e,columns:this.columns})}}]),t}(n.Component),pe=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(O.a)(this,Object(S.a)(t).call(this,e))).componentDidUpdate=function(){console.log(a.props)},a.state={set_id:"",name:"",time:"",question:[],total_marks:0},a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){this.props.getQuestions()}},{key:"handleLinkClick",value:function(e){}},{key:"renderView",value:function(){var e=this;if(this.props.examSetDetails){var t=b.a.filter(this.props.questions,function(t){return b.a.includes(e.props.examSetDetails.question_array,t.question_id)});return r.a.createElement("div",null,r.a.createElement("div",{className:"card",style:{marginBottom:30}},r.a.createElement("div",{className:"card-body"},r.a.createElement("strong",{className:"card-title",style:{fontSize:20}},"Setting"),r.a.createElement(w.b,{onClick:this.handleLinkClick.bind(this,this.props.examSetDetails.set_id),to:"/home/examSetSettingForm/".concat(this.props.examSetDetails.set_id),className:"btn btn-primary btn-sm float-right",style:{width:70}},r.a.createElement("i",{className:"fa fa-pencil","aria-hidden":"true"}),"Edit"),r.a.createElement("div",{className:"card-text"},r.a.createElement("p",null,r.a.createElement("strong",null,"Name :")," ",this.props.examSetDetails.name),r.a.createElement("p",null,r.a.createElement("strong",null,"Time :")," ",this.props.examSetDetails.time," Mins"),r.a.createElement("p",{className:"margin-zero"},r.a.createElement("strong",null,"Marks:"),this.props.examSetDetails.total_marks)))),this.displaySetQuestions(t))}return r.a.createElement("div",null,r.a.createElement("p",null," Select a set "))}},{key:"displaySetQuestions",value:function(e){if(e.length)return r.a.createElement(me,{onQuestionOnSetTable:this.renderQuestions(e)})}},{key:"renderQuestions",value:function(e){var t=0;return e.map(function(e){return t++,r.a.createElement("tr",{key:e.question+t+""},r.a.createElement("td",null,t),r.a.createElement("td",null,e.question),r.a.createElement("td",null,e.option_a),r.a.createElement("td",null,e.option_b),r.a.createElement("td",null,e.option_c),r.a.createElement("td",null,e.option_d),r.a.createElement("td",null,e.option_e),r.a.createElement("td",null,e.ans),r.a.createElement("td",null,e.difficulty_level),r.a.createElement("td",null,e.marks),r.a.createElement("td",null,e.section))})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.renderView())}}]),t}(r.a.Component),de=Object(o.b)(function(e){return{questions:e.question}},{getQuestions:z})(pe),he=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(O.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).columns=[{id:0,label:"#"},{id:1,label:"Set Name"},{id:2,label:"Questions"},{id:3,label:"Time"},{id:4,label:"Marks"},{id:5,label:"Details"}],a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props.onExamSetTable;return r.a.createElement(le,{data:e,columns:this.columns})}}]),t}(n.Component),fe=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(O.a)(this,Object(S.a)(t).call(this,e))).examDetails=function(){var e=Object(U.a)(_.a.mark(function e(t,n,r){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.props.getExamSet(t),a.setState({examSet:t});case 2:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),a.newExamSet=function(){var e=Math.floor(8999*Math.random())+1e3,t={set_id:""+e,name:"Exam set "+e,time:"30",question_array:[],total_marks:0};a.props.getExamSet(t),window.location.replace("#/home/examSetSettingForm/set_id")},a.state={examset:{}},a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){this.props.getExamSets()}},{key:"renderExamSets",value:function(){var e=this;if(this.props.examSet){var t=0;return this.props.examSet.map(function(a){return t++,r.a.createElement("tr",{key:a.set_id+t+""},r.a.createElement("td",null,t),r.a.createElement("td",null,a.name),r.a.createElement("td",null,a.question_array.length),r.a.createElement("td",null,a.time," mins"),r.a.createElement("td",null,a.total_marks),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-primary btn-sm",onClick:e.examDetails.bind(e,a,a.set_id,t)},r.a.createElement("i",{className:"fa fa-info-circle","aria-hidden":"true"}),"Details")))})}}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h4",null,"Exam Set",r.a.createElement("button",{onClick:this.newExamSet,className:"btn btn-primary btn-sm float-right",style:{marginBottom:15}},r.a.createElement("i",{className:"fa fa-cog","aria-hidden":"true"}),"New Set")),r.a.createElement(he,{onExamSetTable:this.renderExamSets()})),r.a.createElement("div",{className:"col-12"},r.a.createElement(de,{examSetDetails:this.state.examSet})))),r.a.createElement(ce,null))}}]),t}(r.a.Component),Ee=Object(o.b)(function(e){return{examSet:e.examSet}},{getExamSet:H,getExamSets:J})(fe),be=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(O.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).columns=[{id:0,label:"#"},{id:1,label:"Question"},{id:2,label:"Option1"},{id:3,label:"Option2"},{id:4,label:"Option3"},{id:5,label:"Option4"},{id:6,label:"Option5"},{id:7,label:"Answer/s"},{id:8,label:"Level"},{id:9,label:"Marks"},{id:10,label:"Section"}],a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props.onQuestionTable;return r.a.createElement(le,{data:e,columns:this.columns})}}]),t}(n.Component),ve=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(O.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).uploadQuestionsViaFile=function(e){var t=(e.target.files||e.srcElement.files)[0];console.log(t),(new FormData).append("file",t);var a=new FileReader;a.readAsDataURL(t),a.onload=function(e){console.log(a.result),W({file:a.result}).then(function(e){console.log(e),alert("Success "+e.success)})}},a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){this.props.getQuestions()}},{key:"renderQuestions",value:function(){if(this.props.questions){var e=0;return this.props.questions.map(function(t){return e++,r.a.createElement("tr",{key:t.question+e+""},r.a.createElement("td",null,e),r.a.createElement("td",null,t.question),r.a.createElement("td",null,t.option_a),r.a.createElement("td",null,t.option_b),r.a.createElement("td",null,t.option_c),r.a.createElement("td",null,t.option_d),r.a.createElement("td",null,t.option_e),r.a.createElement("td",null,t.ans),r.a.createElement("td",null,t.difficulty_level),r.a.createElement("td",null,t.marks),r.a.createElement("td",null,t.section))})}}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12 text-right"},r.a.createElement("span",{className:"upload"},r.a.createElement("i",{className:"fa fa-upload"}),r.a.createElement("input",{type:"file",onChange:this.uploadQuestionsViaFile,className:"fileUpload"})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("h4",null,"Questions"),r.a.createElement(be,{onQuestionTable:this.renderQuestions()})))),r.a.createElement(ce,null))}}]),t}(r.a.Component),ge=Object(o.b)(function(e){return{questions:e.question,users:e.user}},{getQuestions:z})(ve),ye=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(O.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).columns=[{id:0,label:"#"},{id:1,label:"Question"},{id:2,label:"Option1"},{id:3,label:"Option2"},{id:4,label:"Option3"},{id:6,label:"Option4"},{id:7,label:"Option5"},{id:8,label:"Answer/s"},{id:9,label:"Level"},{id:10,label:"Marks"},{id:11,label:"Section"},{id:12,label:"Delete"}],a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props.onExamSettingFormAllQuesionsTable;return r.a.createElement(le,{data:e,columns:this.columns})}}]),t}(n.Component),xe=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(O.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).columns=[{id:0,label:"#"},{id:1,label:"Question"},{id:2,label:"Option1"},{id:3,label:"Option2"},{id:4,label:"Option3"},{id:5,label:"Option4"},{id:6,label:"Option5"},{id:7,label:"Answer/s"},{id:8,label:"Level"},{id:9,label:"Marks"},{id:10,label:"Section"},{id:11,label:"Delete"}],a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props.onExamSettingFormQuestionTable;return r.a.createElement(le,{data:e,columns:this.columns})}}]),t}(n.Component),Oe=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(O.a)(this,Object(S.a)(t).call(this,e))).setNameChanged=function(){var e=Object(U.a)(_.a.mark(function e(t){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.props.exam.name=t.target.value,e.next=3,a.setState({name:t.target.value});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.setTimeChanged=function(){var e=Object(U.a)(_.a.mark(function e(t){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.props.exam.time=t.target.value,e.next=3,a.setState({time:t.target.value});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.updateExamSet=function(){window.confirm("Are you sure to save the changes?")&&(a.props.editExamSet(a.props.exam),window.location.replace("#/home/examSet"))},a.state={name:"",time:""},a.nonSetQuestions=[],a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){this.props.getQuestions(),this.props.getExamSet()}},{key:"componentDidUpdate",value:function(){this.displayExamDetails()}},{key:"componentWillUnmount",value:function(){this.props.getExamSets()}},{key:"displayExamDetails",value:function(){if(this.props.exam)return r.a.createElement("div",null,r.a.createElement("form",{className:"col-lg-6 offset-lg-3"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h4",null,"Exam setting form")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Name:"),r.a.createElement("input",{id:"name",className:"form-control",type:"text",value:this.props.exam.name,onChange:this.setNameChanged})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"time"},"Time:"),r.a.createElement("input",{id:"time",type:"text",className:"form-control",value:this.props.exam.time,onChange:this.setTimeChanged})," mins"),r.a.createElement("div",{className:"form-group",style:{marginBottom:0}},r.a.createElement("label",null,"Set ID:"),this.props.exam.set_id,"\xa0 \xa0 \xa0 \xa0",r.a.createElement("label",null,"Marks:"),this.props.exam.total_marks)))),r.a.createElement("hr",null),this.displayQuestions())}},{key:"displayQuestions",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Questions"),r.a.createElement(xe,{onExamSettingFormQuestionTable:this.renderSetQuestions()}))}},{key:"renderSetQuestions",value:function(){for(var e=this,t=[],a=0;a<this.props.exam.question_array.length;a++)for(var n=0;n<this.props.questions.length;n++)this.props.exam.question_array[a]===this.props.questions[n].question_id&&t.push(this.props.questions[n]);if(t){var s=0;return t.map(function(t){return s++,r.a.createElement("tr",{key:t.question+s+""},r.a.createElement("td",null,s),r.a.createElement("td",null,t.question),r.a.createElement("td",null,t.option_a),r.a.createElement("td",null,t.option_b),r.a.createElement("td",null,t.option_c),r.a.createElement("td",null,t.option_d),r.a.createElement("td",null,t.option_e),r.a.createElement("td",null,t.ans),r.a.createElement("td",null,t.difficulty_level),r.a.createElement("td",null,t.marks),r.a.createElement("td",null,t.section),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-danger btn-sm",onClick:e.deleteQuestion.bind(e,t,s-1)},r.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"}),"Delete")))})}}},{key:"deleteQuestion",value:function(e,t){this.props.exam.question_array.length>1?window.confirm(" Are you sure to delete this question?")&&(this.props.exam.question_array.splice(t,1),this.props.exam.total_marks-=parseInt(e.marks),this.props.editExamSetTemp(this.props.exam)):alert("Unable to delete! There should be atleast one question in the set!")}},{key:"displayNonSetQuestions",value:function(){return this.nonSetQuestions?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:this.updateExamSet,className:"btn btn-primary btn-sm",style:{marginBottom:15}},r.a.createElement("i",{className:"fa fa-wrench","aria-hidden":"true"}),"Update Exam Set"),r.a.createElement("h4",null,"All other questions"),r.a.createElement(ye,{onExamSettingFormAllQuesionsTable:this.renderNonSetQuestions()})):r.a.createElement("div",null,"asfd")}},{key:"renderNonSetQuestions",value:function(){for(var e=this,t=[],a=0;a<this.props.exam.question_array.length;a++)for(var n=0;n<this.props.questions.length;n++)this.props.exam.question_array[a]===this.props.questions[n].question_id&&t.push(this.props.questions[n]);var s=this.props.questions,l=t,o=s.filter(function(e){return-1===l.indexOf(e)}),c=l.filter(function(e){return-1===s.indexOf(e)});if(this.nonSetQuestions=o.concat(c),this.nonSetQuestions){var i=0;return this.nonSetQuestions.map(function(t){return i++,r.a.createElement("tr",{key:t.question+i+""},r.a.createElement("td",null,i),r.a.createElement("td",null,t.question),r.a.createElement("td",null,t.option_a),r.a.createElement("td",null,t.option_b),r.a.createElement("td",null,t.option_c),r.a.createElement("td",null,t.option_d),r.a.createElement("td",null,t.option_e),r.a.createElement("td",null,t.ans),r.a.createElement("td",null,t.difficulty_level),r.a.createElement("td",null,t.marks),r.a.createElement("td",null,t.section),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-primary btn-sm",onClick:e.addQuestion.bind(e,t,i-1)},r.a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"}),"Add")))})}}},{key:"addQuestion",value:function(e,t){this.props.exam.question_array.push(e.question_id),this.props.exam.total_marks+=parseInt(e.marks),this.props.editExamSetTemp(this.props.exam)}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},this.displayExamDetails(),r.a.createElement("hr",null),this.displayNonSetQuestions())))}}]),t}(r.a.Component),Se=Object(o.b)(function(e){return{questions:e.question,exam:e.oneExamSet,temp:e.oneExamSet}},{getQuestions:z,getExamSet:H,editExamSet:function(e){return function(){var t=Object(U.a)(_.a.mark(function t(a){return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:B(e).then(function(t){a({type:"EDIT_EXAM_SET",payload:e},function(e){console.log(e)})});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},editExamSetTemp:function(e){return{type:"EDIT_EXAM_SET",payload:e}},getExamSets:J})(Oe),ke=function(e){function t(){return Object(y.a)(this,t),Object(O.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:"header",style:{padding:"5px 0"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("img",{className:"logo",src:"/images/logo.png",alt:""})))))}}]),t}(r.a.Component),we=function(e){function t(){return Object(y.a)(this,t),Object(O.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("p",null,"\xa9 powered by ",r.a.createElement("strong",null,"QCI"))))))}}]),t}(r.a.Component),je=function(e){function t(){return Object(y.a)(this,t),Object(O.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(x.a)(t,[{key:"componentWillMount",value:function(){console.log(this.props.match.params.id);var e=this.props.match.params.id;e=e.substr(3),this.props.getExamUserDetails(e)}},{key:"componentDidMount",value:function(){console.log(this.props)}},{key:"startExam",value:function(e,t){t&&window.confirm("Are you sure to start the exam now?")&&(this.props.getExamSetForExam(e,t),window.location.replace("#/exam/StartExam/"))}},{key:"userDetails",value:function(){return this.props.examUser.token?r.a.createElement("div",null,r.a.createElement(ke,null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("h5",null," Please confirm user details"),r.a.createElement("p",null,r.a.createElement("strong",null,this.props.examUser.user_details.name)),r.a.createElement("p",null,this.props.examUser.user_details.phone),r.a.createElement("p",null,this.props.examUser.user_details.email),r.a.createElement("p",null,"Exam set id: ",this.props.examUser.user_details.set_id),r.a.createElement("p",null,"Exam time: ",this.props.examUser.user_details.time," Mins"),r.a.createElement("hr",null),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",null,"Exam Details "),"Here are the exam rules, please go-through the content. If aggree, please click on the continue button. Display some graphic informcation here")),r.a.createElement("hr",null),r.a.createElement("button",{className:"btn btn-primary btn-sm",onClick:this.startExam.bind(this,this.props.examUser.token,this.props.examUser.user_details.user_id),style:{marginBottom:30}},"Continue")))),r.a.createElement(we,null)):r.a.createElement("div",null,"Unable to load details")}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.userDetails())}}]),t}(r.a.Component),Ne=Object(o.b)(function(e){return{examUser:e.examUser,examSetForUser:e.examSetForUser}},{getExamUserDetails:function(e){return function(){var t=Object(U.a)(_.a.mark(function t(a){return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:X(e).then(function(e){a({type:"GET_EXAM_USER",payload:e})});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},getExamSetForExam:function(e,t){return function(){var a=Object(U.a)(_.a.mark(function a(n){return _.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:P(e,t).then(function(e){n({type:"GET_SET_FOR_EXAM",payload:e})});case 2:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()}})(je),_e=a(33),Ue=a(83),Ce=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(O.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).totalMarks=0,a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){if(alert("Seem like u've run out of time!"),this.props.resultArray.length)for(var e=0;e<this.props.resultArray.length;e++)this.props.resultArray[e].ans===this.props.resultArray[e].selected&&(this.totalMarks+=parseInt(this.props.resultArray[e].marks));else this.totalMarks=0;this.props.clearExamSetForExam(),window.location.replace("#/exam/ExamResult/"+this.totalMarks)}},{key:"render",value:function(){return r.a.createElement("div",null,"Out of time")}}]),t}(r.a.Component),Ae=Object(o.b)(function(e){return{examSetForUser:e.examSetForUser}},{clearExamSetForExam:Y})(Ce),Te=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(O.a)(this,Object(S.a)(t).call(this))).time1=0,a.time2=0,a.handleToggle=function(e){e.preventDefault();var t=!a.state.toggle;a.setState({toggle:t})},a.toggleClassesHandler=function(){return a.state.toggle?"active accodian":"accodian"},a.totalMarks=0,a.resultArray=[],a.renderTime=function(){if(a.props.examSetForUser.set_data&&a.props.examSetForUser.set_data.time){var e=60*parseInt(a.props.examSetForUser.set_data.time)*1e3;return r.a.createElement("div",null,r.a.createElement(ke,null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 text-center"},r.a.createElement("strong",{onClick:function(e){return a.handleToggle(e)},className:a.toggleClassesHandler(),style:{position:"relative"}},r.a.createElement("span",{id:"triangle-down"}),r.a.createElement(Ue.a,{date:Date.now()+e},r.a.createElement(Ae,{resultArray:a.resultArray})))))))}},a.onSiteChanged=function(e,t,n,r,s){for(var l={sno:e,question:t,ans:n,selected:s,marks:r},o=!1,c=0,i=0;i<a.resultArray.length;i++)if(a.resultArray[i].sno===e){o=!0,c=i;break}o?a.resultArray[c].selected=s:a.resultArray.push(l)},a.renderOptions=function(e,t,n,s,l){var o=0;return l.map(function(l){return o++,r.a.createElement("div",{key:o},r.a.createElement("strong",null,o,". "),r.a.createElement("input",{type:"radio",name:e,value:l,onChange:a.onSiteChanged.bind(Object(_e.a)(Object(_e.a)(a)),e,t,n,s,l)}),l)})},a.renderQuestion=function(){var e=0;return a.props.examSetForUser.template_data?a.props.examSetForUser.template_data.map(function(t){return e++,r.a.createElement(r.a.Fragment,{key:e},r.a.createElement("div",{className:"card",style:{marginBottom:30}},r.a.createElement("div",{className:"card-body card-body-question",style:{width:"90%"}},r.a.createElement("div",{className:""},r.a.createElement("strong",null,"Q.",e," ")," ",t.question,a.renderOptions(e,t.question,t.ans,t.marks,t.options),r.a.createElement("p",{className:"single-question-marks"},r.a.createElement("strong",null," Marks: ",t.marks," "))))))}):r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Opps! seems like you have completed the exam. Please contact administrator"))},a.submitExam=function(){if(window.confirm("Are you sure to submit the exam?")){for(var e=0;e<a.resultArray.length;e++)a.resultArray[e].ans===a.resultArray[e].selected&&(a.totalMarks+=parseInt(a.resultArray[e].marks));window.location.replace("#/exam/ExamResult/"+a.totalMarks)}},a.state={toggle:!1},a}return Object(k.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){}},{key:"displaySubmitButton",value:function(){if(this.props.examSetForUser.template_data)return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("button",{className:"btn btn-primary btn-sm",onClick:this.submitExam,style:{marginBottom:30}},"Submit")))}},{key:"componentWillUnmount",value:function(){this.props.examResponse(this.resultArray)}},{key:"render",value:function(){return r.a.createElement("div",{style:{minHeight:500}},this.renderTime(),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},this.renderQuestion())),this.displaySubmitButton()))}}]),t}(r.a.Component),qe=Object(o.b)(function(e){return{examUser:e.examUser,examSetForUser:e.examSetForUser,responseArray:e.responseArray}},{examResponse:function(e){return{type:"RESPONSE_ARRAY",payload:e}}})(Te),Qe=function(e){function t(){return Object(y.a)(this,t),Object(O.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(x.a)(t,[{key:"componentDidUpdate",value:function(){var e=this,t={};t.token=this.props.examUser.token,t.user_id=this.props.examUser.user_details.user_id,t.total_marks_obtained=this.props.match.params.id,t.time_stamp=Date.now(),t._list=this.props.responseArray,G(t).then(function(t){console.log(t),e.props.clearExamSetForExam()})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ke,null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"card col-lg-12"},r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"cart-text"},r.a.createElement("strong",null,"Name:")," ",this.props.examUser.user_details.name),r.a.createElement("p",{className:"cart-text"},r.a.createElement("strong",null,"Email:")," ",this.props.examUser.user_details.email),r.a.createElement("p",{className:"cart-text"},r.a.createElement("strong",null,"Phone:")," ",this.props.examUser.user_details.phone),r.a.createElement("strong",null,"Total Marks:")," ",this.props.match.params.id)))),r.a.createElement(we,null))}}]),t}(r.a.Component),De=Object(o.b)(function(e){return{examUser:e.examUser,responseArray:e.responseArray}},{clearExamSetForExam:Y})(Qe),Fe=function(e){function t(){return Object(y.a)(this,t),Object(O.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{"data-test":"app_fragment"},r.a.createElement(w.a,{"data-test":"router_with_history"},r.a.createElement(j.a,{path:"/",exact:!0,component:ae}),r.a.createElement(j.a,{path:"/home",component:ae}),r.a.createElement(j.a,{path:"/home/user",component:ue}),r.a.createElement(j.a,{path:"/home/questions",component:ge}),r.a.createElement(j.a,{path:"/home/examSet",component:Ee}),r.a.createElement(j.a,{path:"/home/examSetSettingForm/:id",exact:!0,component:Se}),r.a.createElement(j.a,{path:"/login",component:Z}),r.a.createElement(j.a,{path:"/logout",component:$}),r.a.createElement(j.a,{path:"/exam/IntroPage/:id",exact:!0,component:Ne}),r.a.createElement(j.a,{path:"/exam/StartExam",exact:!0,component:qe}),r.a.createElement(j.a,{path:"/exam/ExamResult/:id",exact:!0,component:De})))}}]),t}(r.a.Component),Me={key:"root",storage:p.a},Re=Object(u.createLogger)({collapsed:!0,duration:!0,timestamp:!0,level:"info",logErrors:!0,diff:!0}),Ie=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d,Le=Object(h.a)(Me,g),Be=Object(c.e)(Le,Ie(Object(c.a)(i.a,Re))),Xe=Object(h.b)(Be);l.a.render(r.a.createElement(o.a,{store:Be},r.a.createElement(d.a,{loading:null,persistor:Xe},r.a.createElement(Fe,null))),document.getElementById("root"))},86:function(e,t,a){e.exports=a(208)},99:function(e,t,a){}},[[86,1,2]]]);
//# sourceMappingURL=main.c7c6a91e.chunk.js.map